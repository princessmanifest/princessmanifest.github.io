# Haunted Places Website

This project explores and communicates key insights from the haunted places dataset through a set of five interactive D3.js visualizations, presented on the project website linked above. Together, these visualizations help surface spatial patterns, regional associations, and possible psychological or sociocultural factors that may relate to the reporting of haunted locations across the United States.

## Live Site

The deployed website can be viewed here: https://princessmanifest.github.io/

## Project Structure

- **`data/`**: Contains all data files used for the visualizations.
    - `complete_dataset_hw2.csv`: Core dataset used for various visualizations.
    - `*.json`: Various JSON files generated by the Python scripts (e.g., `stacked_area_chart_d3.json`, `*_wordcloud_d3.json`, `apparition_yearly_generated.json`) used by the D3.js visualizations.
    - Other source data files (e.g., `.tsv`).
- **`src/`**: Contains the source code for data processing and visualization generation.
    - **`d3_data_generation/`**: Contains Python scripts (`.py`, `.ipynb`) responsible for processing raw data and generating the necessary datasets (stored in `data/`) for the D3 visualizations.
    - **`d3_js_scripts/`**: Contains the D3.js scripts. Note: These scripts are also present within the `website_directory` for deployment.
    - **`solr_command_line.rtf`**: Contains the command line prompts used to ingest our data into Apache Solr.
- **`website_directory/`**: Contains the static website files for displaying the visualizations.
    - `index.html`: The main landing page for the visualization website.
    - `*.html`: Individual HTML pages for specific visualizations.
    - `visualizations/`: Subdirectories containing the specific D3.js code and potentially styles/assets for each team member's visualization.
    - `style.css`, `script.js`, `images/`: Supporting CSS, JS, and image files for the website.
- **`requirements.txt`**: Lists the Python dependencies needed for the data generation scripts. (Only pandas is required)

## Visualizations

The website features the following visualization pages, accessible from the main `index.html` page:

1.  **Ghosts in the Mind (`index_jasmine.html`):** Displays an interactive map that explores potential links between rates of Alzheimer's Disease, Drug Overdose, and Alcohol Abuse and the number of reported haunted locations across the United States. 
2.  **Haunted Objects (`index_cindy.html`):** Displays word clouds for segments of the US, displaying the most frequent haunted objects.
3.  **Spooky Events (`index_omar.html`):** Displays the occurance of events types within each states. Also colors states based on total events to show distribution across the US.
4.  **Eerie Locations (`index_elisa.html`):** Displays an interactive, zoomable bar chart analyzing haunted scores of detected objects. **Note:** This visualization fetches pre-processed JSON data (`visualizations/elisa/data/haunted_objects_chart.json`) and then performs data aggregation and Plotly chart generation client-side using JavaScript (`visualizations/elisa/script.js`).
5.  **Phantom Timeline (`index_daisy.html`):** Explores the historical patterns of reported ghost sightings.

## Workflow & Usage

1.  **Setup**: Install Python dependencies:
    ```bash
    pip install -r requirements.txt
    ```
2.  **Data Generation (Optional)**: Run the Python scripts/notebooks in `src/d3_data_generation/` to generate or update the `.json` files in the `data/` directory from the source data (e.g., `data/complete_dataset_hw2.csv`, `data/final_dataset_with_entities.tsv`).
    *Example:* `python src/d3_data_generation/stacked_areachart_generation.py`
3.  **Visualization**: Open the `website_directory/index.html` file in your web browser. This page serves as the entry point to navigate to the different D3.js visualizations.
    *   The visualizations use D3.js (v7), which is loaded via a CDN link in the HTML files, so an internet connection is required.
    *   Alternatively, you can serve the `website_directory` locally using a simple web server (like Python's `http.server`) and access it via `http://localhost:<port>`.

## Additional Notes

One of the five visualizations (the interactive map) leverages a CSV file as its data source. This is achieved using a feature provided by D3.jsâ€”the d3.csv() method. Similar to the d3.json() method, d3.csv() is specifically designed to handle CSV files. It automatically parses the data into a JavaScript array of objects, where each object represents a row of the CSV file, and the column headers serve as the property names.

This allows for seamless integration of tabular data into the visualization, enabling the dynamic rendering of elements based on the data. Any numeric fields are converted from strings to numbers to ensure proper handling during visualization.

## Contributors

*   Cindy Jiang
*   Elisa Xia
*   Jasmine Adams
*   Omar Alkhadra
*   Yiting (Daisy) Huang