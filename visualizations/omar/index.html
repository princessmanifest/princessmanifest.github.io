<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Omar's D3 Visualization</title>
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            color: white; /* Default text color */
            background-color: #1a1a2e; /* Match outer page background */
            padding: 10px; /* Reduced padding slightly */
            /* Removed max-width and margin:auto as iframe controls size */
        }
        #map-container { flex: 2.2; /* Give map more space */ position: relative; }
        #barchart-container { flex: 1; padding-left: 10px; }
        h1, h2 { color: white; font-size: 1.2em; margin-bottom: 10px; }
        .state {
             /* stroke: #fff; */ /* Removed state stroke */
             /* stroke-width: 0.5px; */
        }
        /* Style for non-active state on hover */
        .state-hover {
            /* stroke: #fff; */ /* Removed state stroke */
            /* stroke-width: 2px; */
        }
         .state.active {
             /* stroke: #fff; */ /* Removed state stroke */
             /* stroke-width: 2px; */
         }
        .bar { /* Add styles if needed */ }
        /* Ensure axis text is white */
        .axis-label,
        .tick text {
             fill: white;
             font-size: 9px; /* Slightly smaller axis text */
        }
        .chart-title { font-size: 12px; font-weight: bold; text-anchor: middle; fill: white; }
        /* Style the axes lines/domain if needed */
        .tick line { stroke: #555; }
        .domain { stroke: #777; }

    </style>
</head>
<body>

<div id="map-container">
    <h1>US Event Counts by State</h1>
    <div id="map"></div>
</div>
<div id="barchart-container">
    <h2>State Details</h2>
    <div id="state-barchart"></div>
</div>

<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/topojson-client@3"></script> 
<script type="module">
    import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@5/dist/runtime.js";
    import define from "./script.js";

    const runtime = new Runtime();
    const main = runtime.module(define, name => {
      if (name === "mapChart") { 
        return new Inspector(document.querySelector("#map"));
      }
    
    });

</script>

</body>
</html>
